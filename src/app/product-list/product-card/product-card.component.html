<mdb-card>
  <div
    *ngIf="!imageUrls[0]"
    class="product-img d-flex justify-content-center mx-auto my-3"
  >
    <div class="spinner-border m-auto" role="status">
      <span class="sr-only">Загрузка...</span>
    </div>
  </div>
  <div
    *ngIf="imageUrls[0]"
    [routerLink]="[product.$key]"
    class="product-img view rgba-white-slight waves-light my-3 mx-auto img-link"
    mdbWavesEffect
  >
    <mdb-card-img
      [src]="imageUrls[0]"
      class="card-image"
      alt="Изображение"
    ></mdb-card-img>
  </div>
  <mdb-card-body class="pt-0">
    <mdb-card-title>
      <div class="d-flex-row justify-content-between">
        <a class="font-weight-bold" [routerLink]="[product.$key]">
          {{ product.name }}
        </a>
        <span class="price font-weight-bold">{{ product.price }} р.</span>
      </div>
    </mdb-card-title>

    <mdb-card-text>
      <app-cpu-card-content
        *ngIf="catalog.cpu === this.postfix"
        [cpu]="product"
      >
      </app-cpu-card-content>
    </mdb-card-text>

    <div class="d-flex justify-content-between align-items-center">
      <div class="btn-group">
        <button
          [disabled]="product?.count === 0"
          mdbBtn
          [color]="cartKey ? 'green' : 'deep-orange'"
          (click)="onCartAction()"
          type="button"
          mdbWavesEffect
          class="btn-sm"
        >
          {{ cartKey ? 'Уже в корзине' : 'В корзину' }}
          <mdb-icon fas icon="shopping-cart"></mdb-icon>
        </button>
      </div>
      <small
        *ngIf="product?.count > 0"
        class="text-uppercase font-weight-normal"
        ><span class="green-text">На складе: </span>
        {{ product?.count }} шт.</small
      >
      <small
        *ngIf="product?.count === 0"
        class="text-uppercase font-weight-normal red-text"
        >Нет на складе</small
      >
    </div>
  </mdb-card-body>
</mdb-card>
