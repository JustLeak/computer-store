<mdb-card>
  <div *ngIf="!imageUrls[0]" class="product-img d-flex justify-content-center m-auto">
    <div class="spinner-border m-auto" role="status">
      <span class="sr-only">Загрузка...</span>
    </div>
  </div>
  <div
    *ngIf="imageUrls[0]"
    [routerLink]="['./' + product.$key]"
    class="product-img view rgba-white-slight waves-light my-3 mx-auto"
    mdbWavesEffect
  >
    <mdb-card-img [src]="imageUrls[0]" alt="Изображение"></mdb-card-img>
    <a>
      <div class="mask"></div>
    </a>
  </div>
  <mdb-card-body class="pt-0">
    <mdb-card-title>
      <div class="d-flex-row justify-content-between">
        <span class="font-weight-bold">
          {{ product.name }}
        </span>
        <span>{{ product.price }} р.</span>
      </div>
      <div class="text-center">
        <ng-template #t let-fill="fill">
          <span class="star" [class.full]="fill === 100">
            <span class="half" [style.width.%]="fill">&#9733;</span>&#9733;
          </span>
        </ng-template>
        <ngb-rating
          [(rate)]="currentRate"
          [readonly]="true"
          max="5"
          [starTemplate]="t"
        ></ngb-rating>
      </div>
    </mdb-card-title>

    <mdb-card-text>
      <app-cpu-card-content
        *ngIf="catalog.cpu === this.postfix"
        [cpu]="product"
      >
      </app-cpu-card-content>
    </mdb-card-text>

    <div class="d-flex justify-content-between align-items-center">
      <div class="btn-group">
        <button
          mdbBtn
          color="default"
          type="button"
          mdbWavesEffect
          class="btn btn-sm waves-effect"
        >
          В корзину
          <mdb-icon fas icon="shopping-cart"></mdb-icon>
        </button>
      </div>
      <small class="text-muted">Код товара: {{ product.$key }}</small>
    </div>
  </mdb-card-body>
</mdb-card>
